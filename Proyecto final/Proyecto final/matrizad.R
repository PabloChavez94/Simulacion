#
#library(reshape2)
#1m <- as.matrix(dcast(p, V1 ~ V2, value.var = "V3", fill = 0), nrow = p, ncol = p)
#row.names(p) <- colnames(p)

#library(igraph)
#g <- graph.adjacency(m, mode="directed", weighted=TRUE, diag=TRUE)
#get.adjacency(g)
#shortest.paths(g, mode="out")